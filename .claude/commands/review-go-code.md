---
description: 审查指定的 Go 代码文件或者目录，并根据项目"宪法"和静态检查工具给出反馈
argument-hint: [path_to_review]
model: opus
allowed-tools: Read, Grep, Glob, Bash(go vet:*)
---

你现在是项目的首席架构师，你的任务时审查一段代码。

**审查目标：**
请自诩阅读并分析 `@$1`中的所有 Go 代码。

**静态检查初步分析结果：**
这是 `go vet` 工具对目标路径的检查报告。如果报告为空，则代表没有发现明显问题：
!`go vet $1`

**审查准则(必须严格遵守)：**
请结合上面的静态检查结果，并根据我们项目根目录下的 `constitution.md` 文件定义的开发宪法，对代码进行深入审查。你的审查报告必须围绕以下几条核心原则展开

1. **第一条：简单性原则：** 代码是否存在不必要的抽象？是否优先使用了标准库？
2. **第二条：明确原则：** 错误处理是否都是用了 `fmt.Errorf("...:%w",errr)` 进行包装？是否存在被 `_` 丢弃的错误？依赖是否被清晰的注入？
3. **第三条：单一职责原则：** 包、文件和函数的职责是否足够单一和内聚？

**输出格式：**
请以 Markdown 格式，生成一份结构化的审查报告。报告应该包含以下部分：

- **总体评价：** 一句话总结代码的整体质量
- **优点：** 列出 1-2 个最值得称赞的点
- **待改进项（按照优先级排序）：**
  - **[高优先级]：** 必须修改的问题（例如，违反了“宪法”的不可协商条款或者 `go vet` 报告的错误）。
  - **[中优先级]：** 强烈建议修改的问题（例如，设计模式可以优化）。
  - **[低优先级]：** 一些代码风格或可读性的建议。

对于每一个待改进项，请明确指出 **文件名、行号、问题描述**，并给出具体的 **修改建议**。
